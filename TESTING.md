# Form Constructor - Testing Guide

## Исправленные проблемы

### 1. Drag & Drop функциональность
- ✅ Исправлена логика инициализации drag&drop
- ✅ Добавлены правильные обработчики событий
- ✅ Улучшена визуальная обратная связь при перетаскивании
- ✅ Компоненты теперь корректно добавляются на canvas

### 2. Preview Panel
- ✅ По умолчанию отображается справа как боковая панель
- ✅ Добавлена кнопка Preview в навигации для переключения
- ✅ Адаптивное поведение на мобильных устройствах
- ✅ Правильное масштабирование для разных устройств

### 3. Функциональность кнопок
- ✅ **New** - создает новую форму (с подтверждением при несохраненных изменениях)
- ✅ **Open** - открывает диалог выбора файла для загрузки формы
- ✅ **Save** - сохраняет форму в JSON файл
- ✅ **Preview** - переключает видимость preview панели

## Как тестировать

### Drag & Drop
1. Откройте приложение
2. В левой панели найдите компоненты (Text Input, Email, Textarea, etc.)
3. Перетащите любой компонент на центральную область
4. Компонент должен появиться в том месте, где вы его отпустили
5. Попробуйте добавить несколько компонентов

### Preview Panel
1. По умолчанию preview панель должна быть видна справа
2. Нажмите кнопку "Preview" в верхней панели - панель должна скрыться/показаться
3. На мобильных устройствах используйте переключатель панелей

### Кнопки управления
1. **New**: Нажмите "New" - должно появиться подтверждение (если есть изменения)
2. **Save**: Добавьте компоненты и нажмите "Save" - должен скачаться JSON файл
3. **Open**: Нажмите "Open" и выберите ранее сохраненный JSON файл

### Responsive поведение
1. Измените размер окна браузера
2. На планшетах и мобильных устройствах должны появиться переключатели панелей
3. Preview панель должна адаптироваться к размеру экрана

## Технические детали

### Архитектура
- Используется native HTML5 drag&drop API вместо GrapesJS
- Reactive state management с Angular signals
- Модульная структура компонентов

### Основные файлы
- `main-layout.component.ts` - основная логика layout
- `editor-panel.component.ts` - drag&drop canvas
- `preview-panel.component.ts` - preview функциональность
- `grapesjs.service.ts` - сервис для управления состоянием

### CSS стили
- `design-system.css` - основная система дизайна
- `components.css` - стили компонентов
- Отдельные CSS файлы для каждого компонента

## Известные ограничения

1. Пока используется fallback режим без GrapesJS
2. Компоненты статичны в preview (нет интерактивности)
3. Нет undo/redo функциональности
4. Ограниченный набор компонентов

## Следующие шаги

1. Добавить больше типов компонентов
2. Реализовать property panel для редактирования свойств
3. Добавить валидацию форм
4. Интеграция с реальным GrapesJS
5. Добавить темы и кастомизацию